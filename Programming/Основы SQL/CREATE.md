1. [CREATE TABLE](#create%20table) 
2. [CREATE VIEW](#create%20view)
3. [CREATE MATERIALIZED VIEW](#create%20materialized%20view) 


## CREATE TABLE

### Определение

Для создания таблиц применяется команда `CREATE TABLE`, после которой указывается название таблицы. Также с этой командой можно использовать ряд операторов, которые определяют столбцы таблицы и их атрибуты. Общий синтаксис создания таблицы выглядит следующим образом

### Пример


``` postgresql
CREATE TABLE cities (
    name            varchar(80),
    location        point
);
```


>[!NOTE] Переменные
>[Типы данных](https://postgrespro.ru/docs/postgresql/9.6/datatype)

## CREATE VIEW


### Определение


В PostgreSQL, `view` — это виртуальная таблица (представление). Она хранит результат выполнения `SELECT` запроса. С помощью вьюхи можно сохранить `SELECT` запрос и получить быстрый доступ к часто используемым данным.

##### Разница между `view` и `materialized view`

[[MATERIALIZED VIEW]]

### Пример


`VIEW` :
``` postgreSQL
CREATE VIEW view_name AS
-- Дальше идёт нужный нам `SELCT`
```


`DROP` :
``` postgreSQL
DROP VIEW view_name;
```
### Простыми словами

Сохранение запроса `SELECT` в ==SQL== 
### Плюсы и минусы 

*+ Плюсы:*
	...
*- Минусы:*
- `MATERIALIZED VIEW` - неэффективно в случаях, когда изменяется только небольшая часть базовой таблицы.

## CREATE MATERIALIZED VIEW


`CREATE MATERIALIZED VIEW` определяет материализованное представление запроса. Заданный запрос выполняется и наполняет представление в момент вызова команды (если только не указано `WITH NO DATA`). Обновить представление позже можно, выполнив `REFRESH MATERIALIZED VIEW`.

Команда `CREATE MATERIALIZED VIEW` подобна `CREATE TABLE AS`, за исключением того, что она запоминает запрос, порождающий представление, так что это представление можно позже обновить по требованию. Материализованные представления сходны с таблицами во многом, но не во всём; например, не поддерживаются временные материализованные представления и автоматическая генерация OID.

Материализованные представления физически хранят данные в базе данных.

##### Разница между `view` и `materialized view` 

Это значит, что доступ к данным будет ==намного быстрее==, ведь мы уже не будем каждый раз выполнять `SELECT` запрос.

С другой стороны, ты ==теряешь== преимущество мгновенного обновления данных и можешь оказаться в ситуации, когда ты получил неактуальные данные.

Чтобы обновить материализованное представление (вьюху), выполняют такой запрос:

```postgreSQL
REFRESH MATERIALIZED VIEW [ CONCURRENTLY ] `имя` 
[ WITH [ NO ] DATA ]
```

>Этот запрос эквивалентен инвалидации кеша. Он синхронизирует материализованное представление с актуальным состоянием базы данных PostgreSQL.
### Пример

`CREATE MATERIALIZED VIEW` :
```postgreSQL
CREATE MATERIALIZED VIEW [ IF NOT EXISTS ] имя_таблицы
    [ (имя_столбца [, ...] ) ]
    [ WITH ( параметр_хранения [= значение] [, ... ] ) ]
    [ TABLESPACE табл_пространство ]
    AS запрос
    [ WITH [ NO ] DATA ]
```

`DROP` :
```postgreSQL
DROP MATERIALIZED VIEW name;
```
### Простыми словами

Материализованные представления физически хранят данные в базе данных.
